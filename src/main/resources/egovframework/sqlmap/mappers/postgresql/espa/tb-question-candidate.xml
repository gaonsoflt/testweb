<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="egovframework.espa.service.impl.QuestionCadidateMapper"> 
	<select id="readCandidate" parameterType="map" resultType="map">
		SELECT 
			*
		FROM tb_question_candidate
	</select>
	
    <insert id="createCandidate" parameterType="map">
		INSERT INTO tb_question_candidate
			SELECT cast(#{deploy_seq} as integer), USER_SEQ 
			FROM TB_USER_INFO
			WHERE USE_YN = '1'
			AND USER_SEQ IN (SELECT USER_SEQ 
				FROM TB_USER_GROUP 
				WHERE GROUP_ID = cast(#{group_id} as varchar))
	</insert> 
</mapper>
