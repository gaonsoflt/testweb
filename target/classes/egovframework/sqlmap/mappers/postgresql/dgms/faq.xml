<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="egovframework.dgms.service.impl.FaqMapper">


	
    
    <select id="selectFaqInfo" parameterType="hashMap" resultType="hashMap">

	    SELECT *
	      FROM (SELECT ROWNUM RNUM, A.*
	              FROM (SELECT *
	                      FROM TB_FAQ 
	                     WHERE 1=1
	                     ORDER BY FAQ_SEQ
	                     ) A
	           ) A
	     WHERE 1 = 1
		<if test='PAGE != null'>
		<![CDATA[
	       AND A.RNUM > (#{PAGE} - 1) * #{PAGESIZE}
	       AND A.RNUM <= #{PAGE} * #{PAGESIZE}
    	]]>
		</if>
		ORDER BY FAQ_SEQ

    </select>
    
    
    <select id="selectFaqInfoTot" parameterType="hashMap" resultType="int">

	    SELECT COUNT(*)
	      FROM TB_FAQ A
	     WHERE 1 = 1
	     ORDER BY FAQ_SEQ
	     
    </select>
    
    
    
    <insert id="insertFaqInfo" >
	    INSERT INTO TB_FAQ
	      (
	      	FAQ_SEQ, 
			FAQ_NO, 
			QUESTION, 
			ANSWER,
			CRE_USR,
			CRE_DT,
			MOD_USR,
			MOD_DT
	      )
	    VALUES
	      (
	      	#{FAQ_SEQ	,  jdbcType=VARCHAR},
			#{FAQ_NO	,  jdbcType=VARCHAR},
			#{QUESTION	,  jdbcType=VARCHAR}, 
			#{ANSWER	,  jdbcType=VARCHAR},
			#{CRE_USR	,  jdbcType=VARCHAR},
			SYSDATE                         ,
			#{MOD_USR   ,  jdbcType=VARCHAR},
			SYSDATE
	       ) 
		
	</insert>

	<update id="updateFaqInfo" >
	
    UPDATE TB_FAQ
       SET 
       		FAQ_SEQ =
			#{FAQ_SEQ	,  jdbcType=VARCHAR},
			FAQ_NO =
			#{FAQ_NO	,  jdbcType=VARCHAR},
			QUESTION =
			#{QUESTION	,  jdbcType=VARCHAR}, 
			ANSWER =
			#{ANSWER	,  jdbcType=VARCHAR},
			MOD_USR = 
			#{MOD_USR   ,  jdbcType=VARCHAR},
			MOD_DT      = SYSDATE
     WHERE FAQ_SEQ = #{FAQ_SEQ}
	</update>
	
	
    <update id="deleteFaqInfo" >
	    DELETE FROM TB_FAQ
		 WHERE FAQ_SEQ = #{FAQ_SEQ}
    </update>
	    

<!--     <select id="selectCdNmCombo" parameterType="hashMap" resultType="hashMap">
	<![CDATA[
		SELECT CATGR,
		       CD,
		       LPAD(' ', 2 * (LEVEL - 1), '>') || CD_NM  AS CD_NM_PATH,
		       CD_NM,
		       SORT_NO,
		       DEUser(USE_YN,'0','false','true')  USE_YN  , 
		       LEVEL
		  FROM TB_User_MASTER
		 WHERE LEVEL <= 2
		 START WITH CATGR = 0
		CONNECT BY CATGR = PRIOR CD
	]]>
    </select>
    
    <select id="selectFaqInfoCombo" parameterType="hashMap" resultType="hashMap">
    	<![CDATA[
	    SELECT * 
        FROM TB_User_MASTER 
       ORDER BY SORT_NO
    	]]>
    </select> -->
    
    
    
</mapper>
